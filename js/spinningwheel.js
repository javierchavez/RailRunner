(function(){function x(e){if(t==="")return e;e=e.charAt(0).toUpperCase()+e.substr(1);return t+e}var e=document.createElement("div").style,t=function(){var t="t,webkitT,MozT,msT,OT".split(","),n,r=0,i=t.length;for(;r<i;r++){n=t[r]+"ransform";if(n in e){return t[r].substr(0,t[r].length-1)}}return false}(),n=t?"-"+t.toLowerCase()+"-":"",r=x("transform"),i=x("transitionProperty"),s=x("transitionDuration"),o=x("transformOrigin"),u=x("transitionTimingFunction"),a=x("transitionDelay"),f=/android/gi.test(navigator.appVersion),l=/iphone|ipad/gi.test(navigator.appVersion),c=/hp-tablet/gi.test(navigator.appVersion),h=x("perspective")in e,p="ontouchstart"in window&&!c,d=t!==false,v=x("transition")in e,m="onorientationchange"in window?"orientationchange":"resize",g=p?"touchstart":"mousedown",y=p?"touchmove":"mousemove",b=p?"touchend":"mouseup",w=function(){if(t===false)return false;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[t]}(),E=h?" translateZ(0)":"",S={cellHeight:44,friction:.003,slotData:[],handleEvent:function(e){if(e.type==g){this.lockScreen(e);if(e.currentTarget.id=="sw-cancel"||e.currentTarget.id=="sw-done"){this.tapDown(e)}else if(e.currentTarget.id=="sw-frame"){this.scrollStart(e)}}else if(e.type==y){this.lockScreen(e);if(e.currentTarget.id=="sw-cancel"||e.currentTarget.id=="sw-done"){this.tapCancel(e)}else if(this.scrollHasStarted){this.scrollMove(e)}}else if(e.type==b){if(e.currentTarget.id=="sw-cancel"||e.currentTarget.id=="sw-done"){this.tapUp(e)}else if(this.scrollHasStarted){this.scrollEnd(e)}}else if(e.type==w){if(e.target.id=="sw-wrapper"){this.destroy()}else{this.backWithinBoundaries(e)}}else if(e.type==m){this.onOrientationChange(e)}else if(e.type=="scroll"){this.onScroll(e)}},onOrientationChange:function(e){window.scrollTo(0,0);this.swWrapper.style.top=(this.container?this.container.clientHeight:window.innerHeight+window.pageYOffset)+"px";this.calculateSlotsWidth()},onScroll:function(e){this.swWrapper.style.top=(this.container?this.container.clientHeight:window.innerHeight+window.pageYOffset)+"px"},lockScreen:function(e){e.preventDefault();e.stopPropagation()},reset:function(){this.slotEl=[];this.activeSlot=null;this.swWrapper=undefined;this.swSlotWrapper=undefined;this.swSlots=undefined;this.swFrame=undefined},calculateSlotsWidth:function(){var e=this.swSlots.getElementsByTagName("div");for(var t=0;t<e.length;t+=1){this.slotEl[t].slotWidth=e[t].offsetWidth}},create:function(){var e,t,r,o,a;this.reset();a=document.createElement("div");a.id="sw-wrapper";a.style.top=(this.container?this.container.clientHeight:window.innerHeight+window.pageYOffset)+"px";a.style[i]=d?n+"transform":"top left";a.style[s]="400ms";if(!d){a.style.position="absolute"}a.innerHTML='<div id="sw-header"><div id="sw-cancel">Change Direction</'+'div><div id="sw-done">Done</'+"div></"+'div><div id="sw-slots-wrapper"><div id="sw-slots"></'+"div></"+'div><div id="sw-frame"></'+"div>";(this.container||document.body).appendChild(a);this.swWrapper=a;this.swSlotWrapper=document.getElementById("sw-slots-wrapper");this.swSlots=document.getElementById("sw-slots");this.swFrame=document.getElementById("sw-frame");if(!("borderImage"in document.body.style||"webkitBorderImage"in document.body.style)){this.swFrame.style.borderWidth=0;this.swFrame.style.height="215px";this.swFrame.style.background="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAADXCAYAAAAwRYC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MzExQUJGOTdBNzAxMUUyQTREQ0Y2NUVCQTI2RTQwNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MzExQUJGQTdBNzAxMUUyQTREQ0Y2NUVCQTI2RTQwNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjczMTFBQkY3N0E3MDExRTJBNERDRjY1RUJBMjZFNDA2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjczMTFBQkY4N0E3MDExRTJBNERDRjY1RUJBMjZFNDA2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CK03FgAAASlJREFUeNpivH799n8GIGC5evUuA5jBwPAfxmAEs5gYoAAh9f8/uhQjI1Rq2bKFjCAGo5KC5h2oLoY/MMZv3CJwxi9SpPCIECP1izJd5Ln5NxGhgUcEk/EXgwGX+ocqlZaRBxH5D4/l//A4hUYlPqn//zFSAroUMdpJtJ0kNXArGAiqYeVRAbMYz51/ugklPQ8hBsvy5RcPDlnHf/nzuAccBUAcDkurr2CMDzDGVxjjJxFJ/R+Gmv+41fxHYTBD8X8YgwGFwYTCgPuCGeoBHAxi1EDKTGtrd7TUC0urzGzMbIxfP39iZIFZzAIzHTuDBYMBl2LFrYYVtwgmg40yEWIYrFRSTJIL8TAgweLr76cKji8FRR1o8kMqmhhRUzgwAhlRykw8UgABBgCFIa30CoPe0wAAAABJRU5ErkJggg==) repeat-x";a.style.background="white"}for(t=0;t<this.slotData.length;t+=1){o=document.createElement("ul");r="";for(e in this.slotData[t].values){if(this.slotData[t].values.hasOwnProperty(e)){r+="<li>"+this.slotData[t].values[e]+"<"+"/li>"}}o.innerHTML=r;a=document.createElement("div");a.className=this.slotData[t].style;a.appendChild(o);this.swSlots.appendChild(a);o.slotPosition=t;o.slotYPosition=0;o.slotWidth=0;o.slotMaxScroll=this.swSlotWrapper.clientHeight-o.clientHeight-86;if(d)o.style[u]="cubic-bezier(0, 0, 0.2, 1)";this.slotEl.push(o);if(this.slotData[t].defaultValue){this.scrollToValue(t,this.slotData[t].defaultValue)}}this.calculateSlotsWidth();document.addEventListener(g,this,false);document.addEventListener(y,this,false);document.addEventListener(b,this,false);window.addEventListener(m,this,true);window.addEventListener("scroll",this,true);document.getElementById("sw-cancel").addEventListener(g,this,false);document.getElementById("sw-done").addEventListener(g,this,false);this.swFrame.addEventListener(g,this,false)},open:function(){this.create();this.swWrapper.style[u]="ease-out";if(d){this.swWrapper.style[r]="translate(0, -260px)"+E}else{this.swWrapper.style.left=0;this.swWrapper.style.top=-260+"px"}},destroy:function(){this.swWrapper.removeEventListener(w,this,false);this.swFrame.removeEventListener(g,this,false);document.getElementById("sw-cancel").removeEventListener(g,this,false);document.getElementById("sw-done").removeEventListener(g,this,false);document.removeEventListener(g,this,false);document.removeEventListener(y,this,false);window.removeEventListener(m,this,true);window.removeEventListener("scroll",this,true);this.slotData=[];this.cancelAction=function(){return false};this.cancelDone=function(){return true};this.reset();(this.container||document.body).removeChild(document.getElementById("sw-wrapper"))},close:function(){this.swWrapper.style[u]="ease-in";if(d){this.swWrapper.style[r]="translate(0, 0)"+E}else{this.swWrapper.style.left=0;this.swWrapper.style.top=0}this.swWrapper.addEventListener(w,this,false)},addSlot:function(e,t,n){if(!t){t=""}t=t.split(" ");for(var r=0;r<t.length;r+=1){t[r]="sw-"+t[r]}t=t.join(" ");var i={values:e,style:t,defaultValue:n};this.slotData.push(i)},getSelectedValues:function(){var e,t,n,r,i=[],s=[];for(n in this.slotEl){if(this.slotEl.hasOwnProperty(n)){this.slotEl[n].removeEventListener(w,this,false);this.slotEl[n].style[a]="0";if(this.slotEl[n].slotYPosition>0){this.setPosition(n,0)}else if(this.slotEl[n].slotYPosition<this.slotEl[n].slotMaxScroll){this.setPosition(n,this.slotEl[n].slotMaxScroll)}e=-Math.round(this.slotEl[n].slotYPosition/this.cellHeight);t=0;for(r in this.slotData[n].values){if(this.slotData[n].values.hasOwnProperty(r)){if(t==e){i.push(r);s.push(this.slotData[n].values[r]);break}t+=1}}}}return{keys:i,values:s}},setPosition:function(e,t){this.slotEl[e].slotYPosition=t;if(d){this.slotEl[e].style[r]="translate(0, "+t+"px)"+E}else{this.slotEl[e].style.left=0;this.slotEl[e].style.top=t}},scrollStart:function(e){var t=p?e.touches[0]:e;var n=0,r=this.swSlots;while(r){n+=r.offsetLeft;r=r.offsetParent}var i=t.pageX-n;var s=0;for(var o=0;o<this.slotEl.length;o+=1){s+=this.slotEl[o].slotWidth;if(i<s){this.activeSlot=o;break}}if(this.slotData[this.activeSlot].style.match("readonly")){return false}this.slotEl[this.activeSlot].removeEventListener(w,this,false);this.slotEl[this.activeSlot].style[a]="0";this.startY=t.pageY;this.scrollStartY=this.slotEl[this.activeSlot].slotYPosition;this.scrollStartTime=e.timeStamp;this.scrollHasStarted=true;return true},scrollMove:function(e){var t=p?e.touches[0]:e;var n=t.pageY-this.startY;if(this.slotEl[this.activeSlot].slotYPosition>0||this.slotEl[this.activeSlot].slotYPosition<this.slotEl[this.activeSlot].slotMaxScroll){n/=2}this.setPosition(this.activeSlot,this.slotEl[this.activeSlot].slotYPosition+n);this.startY=t.pageY;if(e.timeStamp-this.scrollStartTime>80){this.scrollStartY=this.slotEl[this.activeSlot].slotYPosition;this.scrollStartTime=e.timeStamp}},scrollEnd:function(e){this.scrollHasStarted=false;if(this.slotEl[this.activeSlot].slotYPosition>0||this.slotEl[this.activeSlot].slotYPosition<this.slotEl[this.activeSlot].slotMaxScroll){this.scrollTo(this.activeSlot,this.slotEl[this.activeSlot].slotYPosition>0?0:this.slotEl[this.activeSlot].slotMaxScroll);return false}var t=this.slotEl[this.activeSlot].slotYPosition-this.scrollStartY;if(t<this.cellHeight/1.5&&t>-this.cellHeight/1.5){if(this.slotEl[this.activeSlot].slotYPosition%this.cellHeight){this.scrollTo(this.activeSlot,Math.round(this.slotEl[this.activeSlot].slotYPosition/this.cellHeight)*this.cellHeight,"100ms")}return false}var n=e.timeStamp-this.scrollStartTime;var r=2*t/n/this.friction;var i=this.friction/2*r*r;if(r<0){r=-r;i=-i}var s=this.slotEl[this.activeSlot].slotYPosition+i;if(s>0){s/=2;r/=3;if(s>this.swSlotWrapper.clientHeight/4){s=this.swSlotWrapper.clientHeight/4}}else if(s<this.slotEl[this.activeSlot].slotMaxScroll){s=(s-this.slotEl[this.activeSlot].slotMaxScroll)/2+this.slotEl[this.activeSlot].slotMaxScroll;r/=3;if(s<this.slotEl[this.activeSlot].slotMaxScroll-this.swSlotWrapper.clientHeight/4){s=this.slotEl[this.activeSlot].slotMaxScroll-this.swSlotWrapper.clientHeight/4}}else{s=Math.round(s/this.cellHeight)*this.cellHeight}this.scrollTo(this.activeSlot,Math.round(s),Math.round(r)+"ms");return true},scrollTo:function(e,t,n){this.slotEl[e].style[s]=n?n:"100ms";this.setPosition(e,t?t:0);if(this.slotEl[e].slotYPosition>0||this.slotEl[e].slotYPosition<this.slotEl[e].slotMaxScroll){this.slotEl[e].addEventListener(w,this,false)}},scrollToValue:function(e,t){var n,r,i;this.slotEl[e].removeEventListener(w,this,false);this.slotEl[e].style[s]="0";r=0;for(i in this.slotData[e].values){if(this.slotData[e].values.hasOwnProperty(i)){if(i==t){n=r*this.cellHeight;this.setPosition(e,n);break}r-=1}}},backWithinBoundaries:function(e){e.target.removeEventListener(w,this,false);this.scrollTo(e.target.slotPosition,e.target.slotYPosition>0?0:e.target.slotMaxScroll,"150ms");return false},tapDown:function(e){e.currentTarget.addEventListener(y,this,false);e.currentTarget.addEventListener(b,this,false);e.currentTarget.className="sw-pressed"},tapCancel:function(e){e.currentTarget.removeEventListener(y,this,false);e.currentTarget.removeEventListener(b,this,false);e.currentTarget.className=""},tapUp:function(e){this.tapCancel(e);if(e.currentTarget.id=="sw-cancel"){this.cancelAction()}else{this.doneAction()}this.close()},setCancelAction:function(e){this.cancelAction=e},setDoneAction:function(e){this.doneAction=e},cancelAction:function(){return false},cancelDone:function(){return true}};e=null;window.SpinningWheel=S})()